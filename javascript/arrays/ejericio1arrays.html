<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Ejercicio 1 array</title>
</head>

<body>

    <script>

        // crear un listado que pueda contener un registro de pacientes, cada paciente tendrá los siguientes datos:
        // nombre, apellido, edad, diagnostico, numeroSS A23456

        //15 pacientes.

        var listaPacientes = new Array();

        listaPacientes = [
            {
                nombre: 'Lucia',
                apellido: 'Alvarez',
                edad: 43,
                diagnostico: 'Gripe',
                numeroSS: 'A123456'

            },
            {
                nombre: 'Pepe',
                apellido: 'Villuela',
                edad: 60,
                diagnostico: 'Calvicie',
                numeroSS: 'A98765'

            },
            {
                nombre: 'Silvester',
                apellido: 'Stalone',
                edad: 70,
                diagnostico: 'Amputación',
                numeroSS: 'A63840'

            },
            {
                nombre: 'Chuck',
                apellido: 'Norris',
                edad: 80,
                diagnostico: 'Cefaleas',
                numeroSS: 'A76054320'

            },
            {
                nombre: 'Maria',
                apellido: 'Perez',
                edad: 23,
                diagnostico: 'Gripe',
                numeroSS: 'A4563422'

            },
            {
                nombre: 'Juan',
                apellido: 'Pérez',
                edad: 37,
                diagnostico: 'Gripe',
                numeroSS: 'A44556677'

            },
            {
                nombre: 'Mario',
                apellido: 'Giron',
                edad: 36,
                diagnostico: 'Torcedura',
                numeroSS: 'A66778899'

            },
            {
                nombre: 'Alberto',
                apellido: 'Garcia',
                edad: 23,
                diagnostico: 'Gripe',
                numeroSS: 'A877321'

            },
            {
                nombre: 'Joaquin',
                apellido: 'Cortes',
                edad: 50,
                diagnostico: 'Adicción',
                numeroSS: 'A453267'

            },
            {
                nombre: 'Armando',
                apellido: 'Casitas',
                edad: 50,
                diagnostico: 'Golpe en el dedo del pie',
                numeroSS: 'A1257'

            },
            {
                nombre: 'Benito',
                apellido: 'Camelas',
                edad: 56,
                diagnostico: 'Gripe',
                numeroSS: 'A123456'

            },
            {
                nombre: 'Sharon',
                apellido: 'Stone',
                edad: 23,
                diagnostico: 'Cefaleas',
                numeroSS: 'A678456'

            },
            {
                nombre: 'Cristiano',
                apellido: 'Ronaldo',
                edad: 34,
                diagnostico: 'Edipo',
                numeroSS: 'A77777'

            },
            {
                nombre: 'Ronaldo',
                apellido: 'Nazario',
                edad: 56,
                diagnostico: 'Obesidad',
                numeroSS: 'A687943'

            },
            {
                nombre: 'Leo',
                apellido: 'Messi',
                edad: 32,
                diagnostico: 'Enanismo',
                numeroSS: 'A1010101'

            },
            {
                nombre: 'Diego',
                apellido: 'Costa',
                edad: 34,
                diagnostico: 'Mala leche',
                numeroSS: 'A234111'

            }

        ]

        console.log(listaPacientes);

        //quiero sacar pantalla los nombre de los pacientes, con document.write en un listado no numerado.

        function pintarPacientes(pListaPacientes) {
            let lista = '<ul>';
            for (paciente of pListaPacientes) {
                lista += '<li>' + paciente.nombre + '<br>edad: ' + paciente.edad + ' </li>';
            }
            lista += '</ul>';

            document.write(lista);
        }

        // pintarPacientes(listaPacientes);

        //quiero un funcion que me devuelva (return) con una lista filtrada con los pacientes que tenga gripe.

        function filtrarXdiagnostico(pListaPacientes, pDiagnostico) {


            var listaFiltrada = new Array();
            var contador = 0;

            //opcion 1
            for (paciente of pListaPacientes) {
                if (paciente.diagnostico.toLowerCase() == pDiagnostico.toLowerCase()) {

                    listaFiltrada[contador] = paciente;
                    contador++;
                }
            }

            //opcion 2
            // for (let i = 0; i < pListaPacientes.length; i++) {
            //     if (pListaPacientes[i].diagnostico == pDiagnostico) {
            //         listaFiltrada[contador] = pListaPacientes[i];
            //         contador++;
            //     }
            // }

            return listaFiltrada;

        }

        var listaDiagnostico = filtrarXdiagnostico(listaPacientes, 'gripe');

        // pintarPacientes(listaDiagnostico);

        //function que devuelva una lista de paciente que esten entre 18 y 30 años.

        function filtrarXEdad(pListaPacientes, pEdadMinina, pEdadMaxima) {

            var listaFiltrada = new Array();

            for (paciente of pListaPacientes) {
                if (paciente.edad >= pEdadMinina && paciente.edad <= pEdadMaxima) {
                    //para introducir elementos en la ultima posicion disponible de un array push
                    listaFiltrada.push(paciente);
                }
            }

            return listaFiltrada;

        }

        var edadMinima = parseInt(prompt('Dime la edad minima'));
        var edadMaxima = parseInt(prompt('Dime la edad maxima'));
        pintarPacientes(filtrarXEdad(listaPacientes, edadMinima, edadMaxima));



        //quiero poder hacer un filtro donde pueda seleccionar pacientes que tenga una enfermedad y un rango de edad concreto.



        //quiero filtrar los pacientes cuyo numero de ss acabe en cero.





    </script>

</body>

</html>